---
title: "P8105_hw3_ykk2116"
author: "Yaa Klu"
date: "10/10/2018"
output: github_document
---

_Loading tidyverse_

```{r}
library(tidyverse)
```

### Problem 1

_Loading BRFSS dataset_

```{r}
devtools::install_github("p8105/p8105.datasets")

library(p8105.datasets)

data(brfss_smart2010)
```

_Cleaning of dataset and selection of variables_

```{r}
brfss_df = janitor::clean_names(dat = brfss_smart2010) %>%
  filter(topic == "Overall Health") %>%
  filter(response %in% c( "Excellent", "Very good", "Good", "Fair", "Poor")) %>%
  janitor::clean_names(dat = .) %>%
  mutate(response = as.factor(response))
```


_States that were observed at 7 locations_

```{r}
brfss_df %>%
  filter(year == 2002) %>%
  group_by(locationabbr) %>%
  distinct(locationdesc) %>%
  summarise(n = n()) %>%
  filter( n == 7)
```



_Spaghetti plot_ number of locations in each state

```{r}
brfss_df %>%
  filter(year %in% c("2002":"2010")) %>%
  filter(locationabbr)
  ggplot(aes(x = year, y = locationdesc, color = locationabbr)) +
  geom_line() +
 scale_x_continuous(breaks = c(2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010)) 
  
```



group_by(locationabbr, year) %>% 
  summarise(number = n()) %>% 
  ggplot(aes(x = year, y = number, color = locationabbr)) +
  geom_line() +
  theme(legend.position = "bottom") +
  labs(
    title = "Spagetti plot",
    x = "Year",
    y = "Number of locations observed",
    caption = "BRFSS 2010 data"







_Table_

```{r}
brfss_df %>%
  filter(year %in% c(2002, 2006, 2010)) %>% 
  filter(locationabbr == "NY") %>%   
  
  
  




```




 